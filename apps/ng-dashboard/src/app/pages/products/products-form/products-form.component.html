<div class="products-wrapper">
    <mat-card>
        <mat-card-title>{{editMode ? 'Edit Product' : 'Create Product'}}</mat-card-title>
        <mat-card-subtitle>
        {{editMode ? 'You can edit products here' : 'You can create products here'}}
        </mat-card-subtitle>
        <mat-toolbar>
            <a mat-flat-button class="create-btn" (click)="onSubmit()">
                <mat-icon inline=true aria-hidden="false" aria-label="Example home icon" class="createIcon">
                    {{editMode ? 'edit' : 'add'}}
                </mat-icon>
                    {{editMode ? 'Update' : 'Create'}}
            </a>
            <a mat-flat-button class="cancel-btn" (click)="onCancel()">
                <mat-icon inline=true aria-hidden="false" aria-label="Example home icon" class="cancelIcon">
                    clear
                </mat-icon>Cancel
            </a>
        </mat-toolbar>
        <form class="product-form" [formGroup]="productForm">

            <!-- Name -->
            <mat-form-field class="p-form name" appearance="fill">
                <mat-label for="name">Name</mat-label>
                <input matInput formControlName="name">
                <mat-error *ngIf="productForm.controls.name.invalid && isSubmited">Name is required</mat-error>
            </mat-form-field>

            <!-- Brand -->
            <mat-form-field class="p-form brand" appearance="fill">
                <mat-label for="brand">Brand</mat-label>
                <input matInput formControlName="brand">
                <mat-error *ngIf="productForm.controls.brand.invalid && isSubmited">Brand is required</mat-error>
            </mat-form-field>

            <!-- Price -->
            <mat-form-field class="p-form price" appearance="fill">
                <mat-label for="price">Price</mat-label>
                <input matInput type="number" formControlName="price">
                <mat-error *ngIf="productForm.controls.price.invalid && isSubmited">Price is required</mat-error>
            </mat-form-field>

            <!-- Category -->
            <mat-form-field class="p-form category" appearance="fill">
                <mat-label for="category">Category</mat-label>
                <mat-select formControlName="category">
                    <mat-option *ngFor="let category of categories" [value]="category.id">
                      {{category.name}}
                    </mat-option>
                  </mat-select>
                <mat-error *ngIf="productForm.controls.category.invalid && isSubmited">Category is required</mat-error>
            </mat-form-field>

            <!-- Stock -->
            <mat-form-field class="p-form in-stock" appearance="fill">
                <mat-label for="countInStock">In Stock</mat-label>
                <input matInput type="number" formControlName="countInStock">
                <mat-error *ngIf="productForm.controls.name.invalid && isSubmited">NÂ° in Stock is required</mat-error>
            </mat-form-field>

            <!-- Simple Description -->
            <mat-form-field class="p-form description" appearance="fill">
                <mat-label for="description">Description</mat-label>
                <input matInput formControlName="description">
                <mat-error *ngIf="productForm.controls.description.invalid && isSubmited">Description is required</mat-error>
            </mat-form-field>

            <!-- Content Editor -->
            <quill-editor class="content-editor"
                          formControlName="richDescription"
                          [modules]="QuillConfiguration"
                          [styles]="{'min-height': '120px'}">
            </quill-editor>

            <!-- Image Upload -->
            <div class="bottom-div">

            <div class="p-form-img">
                <mat-label class="select-image" for="image">
                    <input class="custom-file-input" type="file" accept="image/*" (change)="onImageUpload($event)">
                </mat-label>
                <div class="form-img">
                    <img [src]="displayImage" alt="" class="small-img">
                </div>
                <mat-error *ngIf="productForm.controls.image.invalid && isSubmited" style="margin-bottom: 10px;">Image is required</mat-error>
            </div>

            <!-- Is Featured -->
            <mat-slide-toggle formControlName="isFeatured" class="is-featured">
                Bestseller
            </mat-slide-toggle>
            </div>

        </form>
    </mat-card>
</div>